# ==============================================================================
# ClawNet Chain — Environment Variables Template
# ==============================================================================
# Copy this file to .env and fill in real values before starting services.
#   cp .env.example .env
#   chmod 600 .env
#
# WARNING: Never commit .env to version control!
# ==============================================================================

# ── Network Identity ─────────────────────────────────────────────────────────
# Chain ID (固定值, do NOT change)
CHAIN_ID=7625

# Role: "bootstrap" for Server A, "peer" for Server B/C
NODE_ROLE=bootstrap

# ── Reth Validator Configuration ─────────────────────────────────────────────
# Private key of this node's validator account (no 0x prefix)
# Generate with: cast wallet new
RETH_VALIDATOR_KEY=

# Address corresponding to the validator key (with 0x prefix)
RETH_VALIDATOR_ADDRESS=

# Reth data directory inside the container
RETH_DATADIR=/data/reth

# Reth Docker image version
RETH_IMAGE=ghcr.io/paradigmxyz/reth:v1.4.3

# ── Reth P2P Networking ──────────────────────────────────────────────────────
# P2P listen port (devp2p, Reth default: 30303)
RETH_P2P_PORT=30303

# Bootnodes for Reth (enode:// URLs, comma-separated)
# Leave empty for Server A (bootstrap), fill for Server B/C
# Format: enode://<pubkey>@<server-a-ip>:30303
RETH_BOOTNODES=

# ── Reth RPC ─────────────────────────────────────────────────────────────────
# JSON-RPC HTTP listen address
# Server A: 0.0.0.0 (Caddy will proxy)
# Server B/C: 127.0.0.1 (local only)
RETH_HTTP_ADDR=0.0.0.0

# JSON-RPC HTTP port
RETH_HTTP_PORT=8545

# Allowed RPC namespaces
RETH_HTTP_API=eth,net,web3,txpool,clique

# ── clawnetd Configuration ───────────────────────────────────────────────────
# Passphrase for clawnetd identity / wallet encryption
CLAW_PASSPHRASE=

# clawnetd data directory inside the container
CLAW_DATA_DIR=/data/clawnetd

# clawnetd Docker image version (or local build tag)
CLAW_IMAGE=clawnetd:latest

# ── clawnetd P2P Networking ──────────────────────────────────────────────────
# libp2p P2P listen port
CLAW_P2P_PORT=9527

# Bootstrap multiaddress for clawnetd peers
# Leave empty for Server A (bootstrap node)
# Format: /ip4/<server-a-ip>/tcp/9527/p2p/<peer-id>
CLAW_BOOTSTRAP=

# ── clawnetd REST API ────────────────────────────────────────────────────────
# REST API listen address
# Server A: 0.0.0.0 (Caddy will proxy)
# Server B/C: 127.0.0.1 (local only)
CLAW_API_ADDR=0.0.0.0

# REST API port
CLAW_API_PORT=9528

# API key for authenticated access (used by Caddy + CLI clients)
# Generate with: openssl rand -hex 32
CLAW_API_KEY=

# ── Caddy (Server A Only) ───────────────────────────────────────────────────
# Domain for clawnetd REST API
CADDY_API_DOMAIN=api.clawnetd.com

# Domain for Chain JSON-RPC
CADDY_RPC_DOMAIN=rpc.clawnetd.com

# Caddy admin email (for Let's Encrypt registration)
CADDY_EMAIL=admin@clawnetd.com

# ── Monitoring & Logging ─────────────────────────────────────────────────────
# Log level: trace, debug, info, warn, error
LOG_LEVEL=info

# Health check interval (seconds)
HEALTH_CHECK_INTERVAL=60

# Alert webhook URL (Feishu / DingTalk / Slack)
# Leave empty to disable alerting
ALERT_WEBHOOK_URL=

# ── Backup (Optional) ────────────────────────────────────────────────────────
# Remote backup target (rsync format, e.g., user@backup-host:/backups/clawnet)
BACKUP_TARGET=

# Backup schedule (cron expression, default: daily 3am UTC)
BACKUP_CRON=0 3 * * *
